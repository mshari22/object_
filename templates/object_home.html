<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OBJECT - Ø§Ù„Ø¹Ù‚Ø§Ø±ÙŠ</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Cairo', sans-serif; margin: 0; background: #f4f7f6; color: #333; }
        .navbar { background: #1a1a1a; padding: 15px 5%; display: flex; justify-content: space-between; align-items: center; }
        .navbar a { color: white; text-decoration: none; font-weight: bold; margin: 0 10px; }
        .hero { text-align: center; padding: 40px 20px; background: white; }
        #map { height: 450px; width: 90%; margin: 20px auto; border-radius: 15px; border: 4px solid white; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .container { width: 90%; margin: auto; padding-bottom: 50px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 25px; }
        .card { background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 3px 10px rgba(0,0,0,0.05); transition: 0.3s; }
        .card:hover { transform: translateY(-5px); }
        .card img { width: 100%; height: 200px; object-fit: cover; }
        .card-content { padding: 15px; }
        .price { color: #27ae60; font-size: 20px; font-weight: bold; }
        
        .footer { background: #1a1a1a; color: white; padding: 50px 5%; text-align: center; }
        .social-btns { margin: 20px 0; }
        .btn { padding: 12px 25px; border-radius: 30px; text-decoration: none; font-weight: bold; display: inline-block; margin: 5px; }
        .whatsapp { background: #25D366; color: white; }
        .snapchat { background: #FFFC00; color: black; }
        .add-btn { background: #007bff; color: white; padding: 10px 20px; border-radius: 5px; text-decoration: none; }
    </style>
</head>
<body>

<div class="navbar">
    <div style="color: white; font-size: 24px; font-weight: bold;">OBJECT</div>
    <div>
        <a href="/">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
        <a href="/login">Login</a>
        <a href="/add" class="add-btn">+ Ø£Ø¶Ù Ø¹Ù‚Ø§Ø±</a>
    </div>
</div>

<div class="hero">
    <h1>Ø§Ø³ØªÙƒØ´Ù Ø¹Ù‚Ø§Ø±Ø§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø±ÙŠØ·Ø©</h1>
    <p>ØªØµÙØ­ Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø© Ø§Ù„Ø¢Ù† ÙÙŠ Ø£ÙØ¶Ù„ Ø£Ø­ÙŠØ§Ø¡ Ø§Ù„Ø¹Ø§ØµÙ…Ø©</p>
</div>

<div id="map"></div>

<div class="container">
    <div class="grid">
        {% for p in properties %}
        <div class="card">
            <img src="{{ url_for('static', filename='uploads/' + p['image_path']) if p['image_path'] else 'https://via.placeholder.com/400x200' }}">
            <div class="card-content">
                <h3>{{ p['title'] }}</h3>
                <p class="price">{{ p['price'] }} Ø±ÙŠØ§Ù„</p>
                <p>ğŸ“ {{ p['location'] }}</p>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<div class="footer">
    <h2>ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ø§Ù„Ø¢Ù†</h2>
    <div class="social-btns">
        <a href="https://wa.me/966590192582" class="btn whatsapp">ÙˆØ§ØªØ³Ø§Ø¨: 966590192582+</a>
        <a href="https://www.snapchat.com/add/idmsr1" class="btn snapchat">Ø³Ù†Ø§Ø¨ Ø´Ø§Øª: idmsr1</a>
    </div>
    <hr style="opacity: 0.1; margin: 30px 0;">
    <p>Â© 2026 OBJECT Ø§Ù„Ø¹Ù‚Ø§Ø±ÙŠØ© | Ø§Ù„Ø±ÙŠØ§Ø¶ØŒ Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©</p>
</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
    var map = L.map('map').setView([24.7136, 46.6753], 11);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);

    var markers = {{ map_data | safe }};
    markers.forEach(function(m) {
        if(m.lat && m.lng) {
            L.marker([m.lat, m.lng]).addTo(map)
             .bindPopup("<b>" + m.title + "</b><br>" + m.price + " Ø±ÙŠØ§Ù„");
        }
    });
</script>
</body>
</html>